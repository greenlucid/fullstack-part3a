{"version":3,"sources":["services/phonebook.js","components/Persons.js","components/PersonForm.js","components/NameFilter.js","components/Messager.js","components/App.js","index.js"],"names":["baseUrl","toExport","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","remove","delete","Person","person","setPersons","setErrorMessage","name","number","onClick","window","confirm","personService","deleteHandler","Persons","persons","map","PersonForm","newName","newNumber","handleNameChange","handleNumberChange","addPerson","onSubmit","value","onChange","type","NameFilter","nameFilter","handleNameFilterChange","Messager","errorMessage","styleError","color","borderStyle","borderWidth","borderColor","background","fontWeight","styleNotice","style","properStyle","text","App","useState","setNewName","setNewNumber","setNameFilter","useEffect","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","oldPerson","find","changedPerson","setTimeout","catch","error","console","log","newPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0182af9a.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => (\r\n  axios\r\n    .get(baseUrl)\r\n    .then(response => response.data)\r\n)\r\n\r\nconst create = newObject => (\r\n  axios\r\n    .post(baseUrl, newObject)\r\n    .then(response => response.data)\r\n)\r\n\r\nconst update = (id, newObject) => (\r\n  axios\r\n    .put(`${baseUrl}/${id}`, newObject)\r\n    .then(response => response.data)\r\n)\r\n\r\nconst remove = (id) => (\r\n  axios\r\n    .delete(`${baseUrl}/${id}`)\r\n    .then(response => response.data)\r\n)\r\n\r\nconst toExport = {getAll, create, update, remove}\r\n\r\nexport default toExport","import personService from '../services/phonebook'\r\n\r\nconst Person = ({person, setPersons, setErrorMessage}) => {\r\n\r\n  const deleteHandler = (person) => () => {\r\n    if (window.confirm(`Delete ${person.name}?`)) {\r\n      personService.remove(person.id)\r\n        .then(response => {\r\n          personService.getAll()\r\n            .then(response => setPersons(response))\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <li key={person.id}>\r\n      {person.name} {person.number}\r\n      {' '} <button onClick={deleteHandler(person)}>delete</button>\r\n    </li>\r\n  )\r\n}\r\n\r\nconst Persons = ({persons, setPersons, setErrorMessage}) => (\r\n  <ul>\r\n    {persons.map(person => \r\n      <Person person={person} setPersons={setPersons} setErrorMessage={setErrorMessage}\r\n        key={person.id}/>)}\r\n  </ul>\r\n)\r\n\r\nexport default Persons","const PersonForm = ({newName, newNumber, handleNameChange, handleNumberChange, addPerson}) => (\r\n  <form onSubmit={addPerson}>\r\n    <div>\r\n      name: <input value={newName} onChange={handleNameChange}/>\r\n    </div>\r\n    <div>\r\n      number: <input value={newNumber} onChange={handleNumberChange} />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n)\r\n\r\nexport default PersonForm","const NameFilter = ({nameFilter, handleNameFilterChange}) => (\r\n  <div>\r\n    Filter the list below <input value={nameFilter} onChange={handleNameFilterChange}/>\r\n  </div>\r\n)\r\n\r\nexport default NameFilter","const Messager = ({errorMessage}) => {\r\n\r\n  const styleError = {\r\n    color: 'red',\r\n    borderStyle: 'solid',\r\n    borderWidth: 10,\r\n    borderColor: 'red',\r\n    background: 'black',\r\n    fontWeight: 'bold'\r\n  }\r\n\r\n  const styleNotice = {\r\n    color: 'green',\r\n    borderStyle: 'solid',\r\n    borderWidth: 10,\r\n    borderColor: 'green',\r\n    background: 'white',\r\n    fontWeight: 'bold'\r\n  }\r\n\r\n  const properStyle = () => {\r\n    if(errorMessage){\r\n      return (\r\n        errorMessage.type === 'notice'\r\n          ? styleNotice\r\n          : styleError\r\n      )\r\n    }\r\n  }\r\n\r\n  if(errorMessage){\r\n    return (\r\n      <div style={properStyle()}>\r\n        <h2>{errorMessage.text}</h2>\r\n      </div>\r\n    )\r\n  } else {\r\n    return (<br />)\r\n  }\r\n}\r\n\r\nexport default Messager","import React, { useState, useEffect } from 'react'\r\nimport Persons from './Persons'\r\nimport PersonForm from './PersonForm'\r\nimport NameFilter from './NameFilter'\r\nimport personService from '../services/phonebook'\r\nimport Messager from './Messager'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ nameFilter, setNameFilter ] = useState('')\r\n\r\n  const [ errorMessage, setErrorMessage ] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService.getAll()\r\n      .then(response => setPersons(response))\r\n  }, [])\r\n\r\n  const handleNameChange = (event) => (\r\n    setNewName(event.target.value)\r\n  )\r\n\r\n  const handleNumberChange = (event) => (\r\n    setNewNumber(event.target.value)\r\n  )\r\n  \r\n  const handleNameFilterChange = (event) => (\r\n    setNameFilter(event.target.value)\r\n  )\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    if( persons.map(person => person.name).includes(newName) ){\r\n      if(window.confirm(`${newName} is already in the Phonebook, replace the number?`)){\r\n        const oldPerson = persons.find(person => person.name === newName)\r\n        const changedPerson = {...oldPerson, number: newNumber}\r\n        personService.update(changedPerson.id, changedPerson)\r\n          .then(response => {\r\n            setPersons(persons.map(person => person.id !== changedPerson.id ? person : response))\r\n            setErrorMessage({type: 'notice', text: `${newName} was updated`})\r\n            setTimeout(() => {\r\n              setErrorMessage(null)\r\n            }, 5000)\r\n          })\r\n          .catch(error => {\r\n            console.log(error)\r\n            setErrorMessage({type: 'error', text: `${changedPerson.name} was already deleted`})\r\n          })\r\n      }\r\n    } else {\r\n        const newPerson = {\r\n          name: newName,\r\n          number: newNumber\r\n        }\r\n        personService.create(newPerson)\r\n          .then(response => {\r\n            setPersons(persons.concat(response))\r\n            setErrorMessage({type: 'notice', text: `${response.name} was created`})\r\n            setTimeout(() => {\r\n              setErrorMessage(null)\r\n            }, 5000)\r\n          })\r\n          .catch(error => {\r\n            setErrorMessage({type: 'error', text: error.response.data.error})\r\n            setTimeout(() => {\r\n              setErrorMessage(null)\r\n            }, 5000)\r\n          })\r\n        setNewName('')\r\n        setNewNumber('')\r\n      }\r\n  }\r\n\r\n  const personsToShow = nameFilter === ''\r\n  ? persons\r\n  : persons.filter(person => person.name.toLowerCase().includes(nameFilter.toLowerCase()))\r\n\r\n  return (\r\n    <div>\r\n      <h1>Phonebook</h1>\r\n      <NameFilter nameFilter={nameFilter} handleNameFilterChange={handleNameFilterChange} />\r\n      <Messager errorMessage={errorMessage} />\r\n      <h2>Add new entry</h2>\r\n      <PersonForm newName={newName} newNumber={newNumber}\r\n        handleNameChange={handleNameChange} handleNumberChange={handleNumberChange}\r\n        addPerson={addPerson} \r\n      />\r\n\r\n      <h2>Numbers</h2>\r\n      <Persons persons={personsToShow} setPersons={setPersons} setErrorMessage={setErrorMessage}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}